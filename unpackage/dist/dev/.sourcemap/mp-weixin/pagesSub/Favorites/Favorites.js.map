{"version":3,"sources":["uni-app:///main.js","webpack:///D:/userInfo/uni-app/JoyLiving/pagesSub/Favorites/Favorites.vue?378e","webpack:///D:/userInfo/uni-app/JoyLiving/pagesSub/Favorites/Favorites.vue?d185","webpack:///D:/userInfo/uni-app/JoyLiving/pagesSub/Favorites/Favorites.vue?7e11","webpack:///D:/userInfo/uni-app/JoyLiving/pagesSub/Favorites/Favorites.vue?1bad","uni-app:///pagesSub/Favorites/Favorites.vue","webpack:///D:/userInfo/uni-app/JoyLiving/pagesSub/Favorites/Favorites.vue?93a7"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","l0","_self","_c","__map","favorites","item","index","$orig","__get_orig","g0","img_list","split","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,qD,mDACAA,EAAWC,a;;;;2DCHX,yTACIC,EADJ,iHASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,mCACZ,aAAAF,E;;;;2GCvBf,k0B;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,MAAMP,EAAIQ,WAAW,SAASC,EAAMC,GAC/C,IAAIC,EAAQX,EAAIY,WAAWH,GAEvBI,EAAKJ,EAAKK,SAASC,MAAM,KAC7B,MAAO,CACLJ,MAAOA,EACPE,GAAIA,OAIRb,EAAIgB,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLhB,GAAIA,MAKRiB,GAAmB,EACnBC,EAAkB,GACtBvB,EAAOwB,eAAgB,G;;;;2DC1BvB,0eAA8wB,eAAG,G;;;;0IC+CjxB,sCAEA,kCACA,mC,mvCACA,CACA,YACA,QAEA,KAJA,WAKA,OACA,UACA,SACA,aACA,YACA,eACA,qBAGA,SAEA,QAFA,SAEA,GACA,cACA,0CAIA,UARA,WASA,yBACA,oBACA,kBAGA,eAdA,SAcA,GACA,oCACA,kDACA,oBAEA,qBAIA,SAvBA,SAuBA,GACA,4BACA,qBACA,CACA,iBADA,UAEA,gBAFA,IAEA,0CACA,iCAHA,iCAQA,OAlCA,WAkCA,iBACA,sBADA,IACA,2CACA,sBACA,cACA,8BACA,sBACA,oBACA,aACA,iBAEA,uBACA,gBACA,UAZA,gCAkBA,gBApDA,WAoDA,YACA,gDACA,IADA,EACA,iBADA,IAEA,GAFA,IAEA,2CACA,cACA,OACA,kBACA,wCANA,kCASA,mBACA,oBAIA,OAjFA,WAiFA,YACA,iCACA,gBACA,yB;;;;2DCvIA,k2BAAo6C,eAAG,G","file":"pagesSub/Favorites/Favorites.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pagesSub/Favorites/Favorites.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./Favorites.vue?vue&type=template&id=545dd63a&scoped=true&\"\nvar renderjs\nimport script from \"./Favorites.vue?vue&type=script&lang=js&\"\nexport * from \"./Favorites.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Favorites.vue?vue&type=style&index=0&id=545dd63a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"545dd63a\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesSub/Favorites/Favorites.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./Favorites.vue?vue&type=template&id=545dd63a&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.favorites, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var g0 = item.img_list.split(\",\")\n    return {\n      $orig: $orig,\n      g0: g0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./Favorites.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./Favorites.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"Favorites\">\r\n\t\t<shop v-if=\"favorites.length == 0\">\r\n\t\t\t<text slot=\"text-title\">这里已空空如也~</text>\r\n\t\t\t<text slot=\"text-two\">\"藏藏更健康~\"</text>\r\n\t\t</shop>\r\n\t\t<view class=\"head\">\r\n\t\t\t<checkbox-group style=\"display: flex;\" v-if=\"isEdit?true:false\" @change=\"checkAll\">\r\n\t\t\t\t<label :checked=\"checkAllKey\">\r\n\t\t\t\t\t<checkbox value=\"all\" :checked=\"checkAllKey\"/><text>全选</text>\r\n\t\t\t\t</label>\r\n\t\t\t</checkbox-group>\r\n\t\t\t<view class=\"edit\" @click=\"poeration\">\r\n\t\t\t\t<text>{{isEdit?'完成':'编辑'}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<checkbox-group class=\"goods-list\" @change=\"favoritesCheck\">\r\n\t\t\t<label class=\"list\" v-for=\"(item,index) in favorites\" :key=\"index\">\r\n\t\t\t\t<checkbox class=\"check\"  v-if=\"isEdit?true:false\"  style=\"display: flex;\" :value=\"item.id\" :checked=\"checkKey\" />\r\n\t\t\t\t<view class=\"thumb\">\r\n\t\t\t\t\t<image :src=\"item.img_list.split(',')[0]\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t\t<text class=\"two-omit\">{{item.title}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"price-more\">\r\n\t\t\t\t\t\t<view class=\"price\">￥{{item.price}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"goods-btn\">\r\n\t\t\t\t\t\t<view class=\"btn\" @tap=\"similar(item.type_one)\">\r\n\t\t\t\t\t\t\t<text>看相似</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"cart\">\r\n\t\t\t\t\t\t\t<text class=\"iconfont icon-cart\"></text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</label>\r\n\t\t</checkbox-group>\r\n\t\t<view class=\"footer-btn\" :style=\"isEdit?'display: flex':'display: none'\" @tap=\"cancel\">\r\n\t\t\t<view class=\"btn\">取消收藏</view>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script>\r\n\timport { favoritesAll, deleteFavorites } from '@/api/users/user.js';\r\n\timport shop from '@/components/my-components/shop/shop.vue'; \r\n\timport { getCode } from '@/utlis/getToken.js';\r\n\timport { getGood } from '@/api/shops/shops.js';\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tshop\r\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tisEdit: false, \r\n\t\t\t\ttoken: '', // 用户token\r\n\t\t\t\tfavorites: [], // 收藏列表\r\n\t\t\t\tcheckKey: false, // 选择的字段\r\n\t\t\t\tcheckAllKey: false, // 全选的字段\r\n\t\t\t\tdeleteFavorites: [], // 删除收藏夹的数组\n\t\t\t};\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t// 相似商品\r\n\t\t\tsimilar(type_one) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../classify/classify?type_one='+type_one\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 操作\r\n\t\t\tpoeration() {\r\n\t\t\t\tthis.isEdit = !this.isEdit;\r\n\t\t\t\tthis.checkAllKey = false;\r\n\t\t\t\tthis.checkKey = false;\r\n\t\t\t},\r\n\t\t\t// 选择的事件\r\n\t\t\tfavoritesCheck(e) {\r\n\t\t\t\tthis.deleteFavorites = e.detail.value;\r\n\t\t\t\tif (this.deleteFavorites.length < this.favorites.length) {\r\n\t\t\t\t\tthis.checkAllKey = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.checkAllKey = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 全选\r\n\t\t\tcheckAll(e) {\r\n\t\t\t\tif (e.detail.value.length == 0) {\r\n\t\t\t\t\tthis.checkKey = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.checkKey = true;\r\n\t\t\t\t\tfor (let i of this.favorites) {\r\n\t\t\t\t\t\tthis.deleteFavorites.push(i.id)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 取消收藏\r\n\t\t\tcancel() {\r\n\t\t\t\tfor (let i of this.deleteFavorites) {\r\n\t\t\t\t\tdeleteFavorites({\r\n\t\t\t\t\t\tproduct_id: i\r\n\t\t\t\t\t}, this.token).then(res => {\r\n\t\t\t\t\t\tif (res[1].data.code == 204) {\r\n\t\t\t\t\t\t\tthis.favoritesAllArr();\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '取消收藏成功'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\tuni.hideToast();\r\n\t\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 获取收藏列表\r\n\t\t\tfavoritesAllArr() {\r\n\t\t\t\tfavoritesAll(this.token).then(res => {\r\n\t\t\t\t\tlet arr = res[1].data.data;\r\n\t\t\t\t\tfor (let i of arr) {\r\n\t\t\t\t\t\tgetGood({\r\n\t\t\t\t\t\t\tid: i\r\n\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\tthis.favorites.push(res[1].data.data[0])\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tgetCode().then(res => {\r\n\t\t\t\tthis.token = res.token;\r\n\t\t\t\tthis.favoritesAllArr();\r\n\t\t\t})\r\n\t\t}\n\t}\n</script>\n\n<style scoped lang=\"scss\">\n\t@import 'GoodsOn.scss';\n</style>\n","import mod from \"-!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./Favorites.vue?vue&type=style&index=0&id=545dd63a&scoped=true&lang=scss&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.8.8.20200820.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./Favorites.vue?vue&type=style&index=0&id=545dd63a&scoped=true&lang=scss&\""],"sourceRoot":""}